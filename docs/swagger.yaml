components:
  schemas:
    handlers.createRecitationDTO:
      properties:
        slug:
          type: string
      type: object
    handlers.loginDTO:
      properties:
        password:
          maxLength: 64
          minLength: 3
          type: string
        username:
          maxLength: 64
          minLength: 3
          type: string
      required:
      - password
      - username
      type: object
    handlers.registerDTO:
      properties:
        password:
          maxLength: 64
          minLength: 3
          type: string
        username:
          maxLength: 64
          minLength: 3
          type: string
      required:
      - password
      - username
      type: object
    handlers.updateRecitationDTO:
      properties:
        slug:
          type: string
      type: object
    handlers.updateUserDTO:
      properties:
        displayname:
          type: string
      type: object
    models.Error:
      properties:
        error:
          type: string
        message:
          type: string
      type: object
    models.Segment:
      properties:
        end:
          type: number
        score:
          type: number
        start:
          type: number
        text:
          type: string
      type: object
    models.Timing:
      properties:
        segments:
          items:
            $ref: '#/components/schemas/models.Segment'
          type: array
          uniqueItems: false
        text:
          type: string
      type: object
    sqlc.AuthInsertUserRow:
      properties:
        displayname:
          type: string
        username:
          type: string
      type: object
    sqlc.AuthSelectUserRow:
      properties:
        password:
          type: string
        username:
          type: string
      type: object
    sqlc.Recitation:
      properties:
        name:
          type: string
        reciter:
          type: string
        slug:
          type: string
      type: object
    sqlc.RecitationFile:
      properties:
        has_timings:
          type: boolean
        lafzize_processing:
          type: boolean
        reciter:
          type: string
        slug:
          type: string
        verse_key:
          type: string
      type: object
    sqlc.RecitationFileUpdateRecitationFileParams:
      properties:
        has_timings:
          type: boolean
        lafzize_processing:
          type: boolean
        reciter:
          type: string
        slug:
          type: string
        verse_key:
          type: string
      type: object
    sqlc.Session:
      properties:
        csrf_token:
          type: string
        session_token:
          type: string
        username:
          type: string
      type: object
    sqlc.UserDeleteUserRow:
      properties:
        displayname:
          type: string
        username:
          type: string
      type: object
    sqlc.UserSelectUsersRow:
      properties:
        displayname:
          type: string
        username:
          type: string
      type: object
    sqlc.UserUpdateUserRow:
      properties:
        displayname:
          type: string
        username:
          type: string
      type: object
externalDocs:
  description: ""
  url: ""
info:
  title: tilawah-hub
  version: 0.0.1
openapi: 3.1.0
paths:
  /lafzize/{slug}/{verse_key}:
    post:
      parameters:
      - description: CSRF Token
        in: header
        name: X-CSRF-TOKEN
        required: true
        schema:
          type: string
      - description: Recitation slug
        in: path
        name: slug
        required: true
        schema:
          type: string
      - description: Verse key of recitation
        in: path
        name: verse_key
        required: true
        schema:
          type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlc.RecitationFileUpdateRecitationFileParams'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/models.Error'
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/models.Error'
          description: Unauthorized
      tags:
      - lafzize
  /login:
    post:
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/handlers.loginDTO'
        description: Login
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlc.AuthSelectUserRow'
          description: OK
          headers:
            "CSRF\tToken":
              schema:
                type: string
            "Session\tToken":
              schema:
                type: string
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/models.Error'
          description: Bad Request
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/models.Error'
          description: Internal Server Error
      tags:
      - Auth
  /logout:
    post:
      parameters:
      - description: CSRF Token
        in: header
        name: X-CSRF-TOKEN
        required: true
        schema:
          type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlc.Session'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/models.Error'
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/models.Error'
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/models.Error'
          description: Internal Server Error
      tags:
      - Auth
  /recitation-files/{reciter}/{slug}:
    get:
      parameters:
      - description: Reciter
        in: path
        name: reciter
        required: true
        schema:
          type: string
      - description: Slug
        in: path
        name: slug
        required: true
        schema:
          type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/sqlc.RecitationFile'
                type: array
          description: OK
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/models.Error'
          description: Internal Server Error
      tags:
      - RecitationFile
  /recitation-files/{reciter}/{slug}/{verse_key}:
    get:
      parameters:
      - description: Reciter
        in: path
        name: reciter
        required: true
        schema:
          type: string
      - description: Slug
        in: path
        name: slug
        required: true
        schema:
          type: string
      - description: Verse key
        in: path
        name: verse_key
        required: true
        schema:
          type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlc.RecitationFile'
          description: OK
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/models.Error'
          description: Internal Server Error
      tags:
      - RecitationFile
  /recitation-files/{slug}/:
    post:
      parameters:
      - description: CSRF Token
        in: header
        name: X-CSRF-TOKEN
        required: true
        schema:
          type: string
      - description: Slug
        in: path
        name: slug
        required: true
        schema:
          type: string
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: string
        description: Verse Key
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlc.RecitationFile'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/models.Error'
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/models.Error'
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/models.Error'
          description: Internal Server Error
      tags:
      - RecitationFile
  /recitation-files/{slug}/{verse_key}:
    delete:
      parameters:
      - description: CSRF Token
        in: header
        name: X-CSRF-TOKEN
        required: true
        schema:
          type: string
      - description: Slug
        in: path
        name: slug
        required: true
        schema:
          type: string
      - description: Verse Key
        in: path
        name: verse_key
        required: true
        schema:
          type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlc.RecitationFile'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/models.Error'
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/models.Error'
          description: Unauthorized
      tags:
      - RecitationFile
  /recitation-timings/{slug}/{verse_key}:
    delete:
      parameters:
      - description: CSRF Token
        in: header
        name: X-CSRF-TOKEN
        required: true
        schema:
          type: string
      - description: Slug
        in: path
        name: slug
        required: true
        schema:
          type: string
      - description: Verse Key
        in: path
        name: verse_key
        required: true
        schema:
          type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/models.Timing'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/models.Error'
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/models.Error'
          description: Unauthorized
      tags:
      - RecitationTiming
    post:
      parameters:
      - description: CSRF Token
        in: header
        name: X-CSRF-TOKEN
        required: true
        schema:
          type: string
      - description: Slug
        in: path
        name: slug
        required: true
        schema:
          type: string
      - description: Verse Key
        in: path
        name: verse_key
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/models.Timing'
        description: Update Recitation Timing
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/models.Timing'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/models.Error'
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/models.Error'
          description: Unauthorized
      tags:
      - RecitationTiming
  /recitations:
    get:
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/sqlc.Recitation'
                type: array
          description: OK
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/models.Error'
          description: Internal Server Error
      tags:
      - Recitation
    post:
      parameters:
      - description: CSRF Token
        in: header
        name: X-CSRF-TOKEN
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/handlers.createRecitationDTO'
        description: Create Recitation
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlc.Recitation'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/models.Error'
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/models.Error'
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/models.Error'
          description: Internal Server Error
      tags:
      - Recitation
  /recitations/{reciter}/{slug}:
    get:
      parameters:
      - description: Reciter
        in: path
        name: reciter
        required: true
        schema:
          type: string
      - description: Slug
        in: path
        name: slug
        required: true
        schema:
          type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlc.Recitation'
          description: OK
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/models.Error'
          description: Internal Server Error
      tags:
      - Recitation
  /recitations/{slug}:
    delete:
      parameters:
      - description: CSRF Token
        in: header
        name: X-CSRF-TOKEN
        required: true
        schema:
          type: string
      - description: Slug
        in: path
        name: slug
        required: true
        schema:
          type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlc.Recitation'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/models.Error'
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/models.Error'
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/models.Error'
          description: Internal Server Error
      tags:
      - Recitation
    put:
      parameters:
      - description: CSRF Token
        in: header
        name: X-CSRF-TOKEN
        required: true
        schema:
          type: string
      - description: Slug
        in: path
        name: slug
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/handlers.updateRecitationDTO'
        description: Update Recitation
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlc.Recitation'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/models.Error'
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/models.Error'
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/models.Error'
          description: Internal Server Error
      tags:
      - Recitation
  /register:
    post:
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/handlers.registerDTO'
        description: Register
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlc.AuthInsertUserRow'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/models.Error'
          description: Bad Request
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/models.Error'
          description: Internal Server Error
      tags:
      - Auth
  /user:
    delete:
      parameters:
      - description: CSRF Token
        in: header
        name: X-CSRF-TOKEN
        required: true
        schema:
          type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlc.UserDeleteUserRow'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/models.Error'
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/models.Error'
          description: Unauthorized
      tags:
      - User
    put:
      parameters:
      - description: CSRF Token
        in: header
        name: X-CSRF-TOKEN
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/handlers.updateUserDTO'
        description: Update Recitation
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlc.UserUpdateUserRow'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/models.Error'
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/models.Error'
          description: Unauthorized
      tags:
      - User
  /users:
    get:
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/sqlc.UserSelectUsersRow'
                type: array
          description: OK
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/models.Error'
          description: Internal Server Error
      tags:
      - User
  /users/{username}:
    get:
      parameters:
      - description: Username
        in: path
        name: username
        required: true
        schema:
          type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/sqlc.UserSelectUsersRow'
                type: array
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/models.Error'
          description: Bad Request
      tags:
      - User
